generator client {
    provider = "prisma-client-js"
    output   = "../generated/prisma"
}

datasource db {
    provider = "postgresql"
}

model User {
    id       String   @id @default(uuid())
    username String   @unique
    password String
    folders  Folder[]

    @@map("users")
}

model Session {
    id        String   @id
    sid       String   @unique
    data      String   @db.Text
    expiresAt DateTime

    @@map("session")
}

model Folder {
    id   String @id @default(uuid())
    name String

    userId String
    user   User   @relation(fields: [userId], references: [id])

    parentId String?
    parent   Folder?  @relation("FolderHierarchy", fields: [parentId], references: [id])
    children Folder[] @relation("FolderHierarchy")

    @@map("folders")
}
